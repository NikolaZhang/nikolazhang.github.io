import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,e as n,o as l}from"./app-ynXKrCuk.js";const e={};function t(p,i){return l(),a("div",null,[...i[0]||(i[0]=[n(`<blockquote><p>兄弟们，大无语，clion下载完，创建个demo就报错了。搞了一周终于好了。。。但是刚入门，完全不知道为什么。</p></blockquote><p>报错信息如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">D:\\software\\jetbraintools\\apps\\CLion-Nova\\ch-0\\241.11109\\bin\\cmake\\win\\x64\\bin\\cmake.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -DCMAKE_BUILD_TYPE=Debug</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -DCMAKE_MAKE_PROGRAM=D:/software/jetbraintools/apps/CLion-Nova/ch-0/241.11109/bin/ninja/win/x64/ninja.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Ninja</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ork</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">emo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -B</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ork</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">emo</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">make-build-debug</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> identification</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GNU</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 13.1.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CXX</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> identification</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GNU</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 13.1.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Detecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ABI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> info</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Detecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ABI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> info</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> failed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Check</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:/software/jetbraintools/apps/CLion-Nova/ch-0/241.11109/bin/mingw/bin/gcc.exe</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Check</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> working</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:/software/jetbraintools/apps/CLion-Nova/ch-0/241.11109/bin/mingw/bin/gcc.exe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> broken</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CMake</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Error</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> at</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:/software/jetbraintools/apps/CLion-Nova/ch-0/241.11109/bin/cmake/win/x64/share/cmake-3.28/Modules/CMakeTestCCompiler.cmake:67</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (message):</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compiler</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    &quot;D:/software/jetbraintools/apps/CLion-Nova/ch-0/241.11109/bin/mingw/bin/gcc.exe&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> able</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compile</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> simple</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> program.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  It</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fails</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> following</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> output:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    Change</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dir:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;D:/work/demo/cmake-build-debug/CMakeFiles/CMakeScratch/TryCompile-fmv8t7&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    Run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Command</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:/software/jetbraintools/apps/CLion-Nova/ch-0/241.11109/bin/ninja/win/x64/ninja.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cmTC_ddf5f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [1/2] </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">D:\\software\\jetbraintools\\apps\\CLion-Nova\\ch-0\\241.11109\\bin\\mingw\\bin\\gcc.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   -fdiagnostics-color=always</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CMakeFiles/cmTC_ddf5f.dir/testCCompiler.c.obj</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:/work/demo/cmake-build-debug/CMakeFiles/CMakeScratch/TryCompile-fmv8t7/testCCompiler.c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [2/2] </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">C:\\WINDOWS\\system32\\cmd.exe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;cd . &amp;&amp; D:\\software\\jetbraintools\\apps\\CLion-Nova\\ch-0\\241.11109\\bin\\mingw\\bin\\gcc.exe   CMakeFiles/cmTC_ddf5f.dir/testCCompiler.c.obj -o cmTC_ddf5f.exe -Wl,--out-implib,libcmTC_ddf5f.dll.a -Wl,--major-image-version,0,--minor-image-version,0  -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 &amp;&amp; cd .&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    FAILED:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cmTC_ddf5f.exe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    C:\\WINDOWS\\system32\\cmd.exe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;cd . &amp;&amp; D:\\software\\jetbraintools\\apps\\CLion-Nova\\ch-0\\241.11109\\bin\\mingw\\bin\\gcc.exe   CMakeFiles/cmTC_ddf5f.dir/testCCompiler.c.obj -o cmTC_ddf5f.exe -Wl,--out-implib,libcmTC_ddf5f.dll.a -Wl,--major-image-version,0,--minor-image-version,0  -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 &amp;&amp; cd .&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ninja:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stopped:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> subcommand</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> failed.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  CMake</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> able</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> correctly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> generate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> project.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Call</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (most </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">recent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> call</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  CMakeLists.txt:2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (project)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Configuring</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> incomplete,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> errors</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> occurred!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[Finished]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>网上搜索，大概有以下几种方案，但对我都没有用。</p><ol><li>有说项目中存在中文路径的。需要将项目创建在英文路径下。参考：<a href="https://zhuanlan.zhihu.com/p/43680621" target="_blank" rel="noopener noreferrer">CLion 中 的 MinGW 配置（及中文坑解决）</a></li><li>在上条的基础上，检查 <code>CMake</code> + <code>MinGW</code>的路径，需要在拉丁字符路径下。</li><li>在<code>Help | Edit Custom VM options...</code>中修改临时目录。参考<a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/360009445579-Error-Clion-2020-2-The-C-compiler-is-not-able-to-compile-a-simple-test-program" target="_blank" rel="noopener noreferrer">Error-Clion</a></li></ol><p>另外我提了一个<a href="https://intellij-support.jetbrains.com/hc/en-us/requests/6062811" target="_blank" rel="noopener noreferrer">issue</a>，不知什么时候有人给出解决方案。</p><p>我的解决方案：</p><ol><li>toolchains的配置我们保持不变，可以看到还是会出现errors。</li></ol><p><img src="https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213714.png" alt="20240222213714" loading="lazy"> 2. 需要调整CMake配置，generator改为<code>MinGW Makefiles</code>：</p><p><img src="https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213734.png" alt="20240222213734" loading="lazy"> 3. 之后，重新load项目就正常了。</p><p><img src="https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213641.png" alt="20240222213641" loading="lazy"> 4. 运行项目，也可以输出了。</p><figure><img src="https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222214220.png" alt="20240222214220" tabindex="0" loading="lazy"><figcaption>20240222214220</figcaption></figure>`,12)])])}const r=s(e,[["render",t]]),o=JSON.parse('{"path":"/posts/stm32/1-clion-config.html","title":"【clion报错】The C compiler is not able to compile a simple test program","lang":"en-US","frontmatter":{"title":"【clion报错】The C compiler is not able to compile a simple test program","tag":["clion"],"category":"stm32","description":"The C compiler is not able to compile a simple test program","date":"2024-02-22T00:00:00.000Z","author":"nikola","icon":"article","isOriginal":true,"sticky":false,"timeline":true,"article":true,"star":false,"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"【clion报错】The C compiler is not able to compile a simple test program\\",\\"image\\":[\\"https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213714.png\\",\\"https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213734.png\\",\\"https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213641.png\\",\\"https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222214220.png\\"],\\"datePublished\\":\\"2024-02-22T00:00:00.000Z\\",\\"dateModified\\":\\"2024-12-31T08:40:08.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"nikola\\"}]}"],["meta",{"property":"og:url","content":"https://nikolazhang.github.io/posts/stm32/1-clion-config.html"}],["meta",{"property":"og:title","content":"【clion报错】The C compiler is not able to compile a simple test program"}],["meta",{"property":"og:description","content":"The C compiler is not able to compile a simple test program"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/NikolaZhang/image-blog/main/1-clion-config/20240222213714.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-12-31T08:40:08.000Z"}],["meta",{"property":"article:author","content":"nikola"}],["meta",{"property":"article:tag","content":"clion"}],["meta",{"property":"article:published_time","content":"2024-02-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-31T08:40:08.000Z"}]]},"git":{"createdTime":1708609485000,"updatedTime":1735634408000,"contributors":[{"name":"我小叮当","username":"","email":"nikolazhang@163.com","commits":3}]},"readingTime":{"minutes":2.05,"words":616},"filePathRelative":"posts/stm32/1-clion-config.md"}');export{r as comp,o as data};
