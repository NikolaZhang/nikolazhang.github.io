---
isOriginal: true
title: 微服务-入门介绍
date: 2018-11-18


tag:
  - introduce
category: 技术
description: 微服务关键技术介绍
sticky: false
timeline: true
article: true
star: false
---

# 微服务-入门介绍【上】

![微服务思维导图](/images/article/18/microservice.png)


# 路由网关

## Spring Cloud Gateway
+ 基于Spring WebFlux和Project Reactor的响应式API网关
+ 核心是一系列WebFilter
+ 支持动态路由、限流、熔断、重试等功能
+ 提供了丰富的路由匹配规则和过滤器机制

<!--more-->
## Nginx
+ 高性能HTTP服务器&反向代理器
>1. 作为web服务器
>2. 负载均衡服务器
>3. 邮件代理服务器
+ 模块
> 1. 核心
> 2. 配置
> 3. 事件
> 4. HTTP
> 5. MAIL
+ 对比TOMCAT
> 1. Nginx`负载均衡、反向代理、处理静态文件`有优势。 Nginx 处理静态请求的速度高于 apache。
> 2. TOMCAT是动态解析服务器，处理动态请求，是编译 JSP\Servlet 的容器。
> 3. Nginx 有`动态分离机制`，静态请求直接就可以通过 Nginx 处理，动态请求才转发请求到后台交由 Tomcat 进行处理。

---
# 服务中心

## Nacos
+ 阿里巴巴开源的服务发现和配置管理平台
+ 支持服务发现、配置中心、动态DNS服务
+ 特点
> 1. 支持AP和CP模式切换
> 2. 动态服务发现和健康检查
> 3. 统一配置管理，支持热更新
> 4. 支持多种注册中心协议（REST、gRPC、Dubbo等）

## zookeeper
+ 服务注册与发现
+ 通过 Watcher 机制实现 Push 模型，服务注册信息的变更能够及时通知服务消费方。
+ 角色（其他的注册发现没有）解释
> 1. `Leader` 节点是 Zookeeper 集群工作的核心，负责进行选举投票的
发起和决议，更新系统状态；
> 2. `Follower` 节点是 Zookeeper 集群状态的跟随者，用于接收客户端
的请求并向客户端返回结果，在选举过程中参与投票。
> 3. `Observer`可以接受客户端连接，将写请求转发给 Leader 节点，但 Observer 不参加投票过程，
只同步 Leader 节点的状态，Observer 的目的是为了扩展系统，提高读取速度。

## ServiceCenter
+ 通过ServiceCenter提供的接口可以检索微服务信息

## 服务生产与消费
+ Nacos服务治理三角色
> 1. 服务注册中心
> 2. 服务提供者
> 3. 服务消费者
## Spring Cloud LoadBalancer
+ Spring官方提供的客户端负载均衡器
+ 替换了Netflix Ribbon，作为Spring Cloud的默认负载均衡组件
+ Spring Cloud LoadBalancer 的负载均衡策略
> 1. 简单轮询负载均衡（默认）
> 2. 随机负载均衡
> 3. 支持自定义负载均衡策略
> 4. 与Spring Cloud Gateway、Feign等组件无缝集成

---
# 缓存服务

## redis
+ 数据库，缓存，消息中间件
+ 特征
> 1. 单线程，消除串行控制开销
> 2. 支持数据持久化
> 3. 分布式架构，读写分离
> 4. 数据结构多样
> 5. 支持数据备份
+ Redis Cluster
> 1. 无中心结构，主从结构
